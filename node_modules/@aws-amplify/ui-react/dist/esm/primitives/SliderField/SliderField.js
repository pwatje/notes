import{__rest as e}from"tslib";import{jsx as r,jsxs as i}from"react/jsx-runtime";import a from"classnames";import{Root as l,Track as t,Range as o,Thumb as s}from"@radix-ui/react-slider";import*as d from"react";import{isFunction as n,classNameModifier as m}from"../shared/utils.js";import{ComponentClassNames as c}from"../shared/constants.js";import"../Field/FieldClearButton.js";import{FieldDescription as u}from"../Field/FieldDescription.js";import{FieldErrorMessage as p}from"../Field/FieldErrorMessage.js";import{FieldGroup as b}from"../FieldGroup/FieldGroup.js";import{Flex as f}from"../Flex/Flex.js";import{Label as g}from"../Label/Label.js";import{splitPrimitiveProps as F}from"../shared/styleUtils.js";import{View as h}from"../View/View.js";import{useStableId as S}from"../utils/useStableId.js";const C="slider-label",j="slider-root",k="slider-track",v="slider-range",y=d.forwardRef(((C,j)=>{var{ariaValuetext:k,className:v,defaultValue:y,descriptiveText:T,emptyTrackColor:V,errorMessage:x,filledTrackColor:N,formatValue:E,hasError:O=!1,id:z,isDisabled:H,isValueHidden:R=!1,label:I,labelHidden:M=!1,onChange:w,orientation:D="horizontal",outerEndComponent:G,outerStartComponent:L,testId:B,thumbColor:P,trackSize:U,dir:q,value:A,size:J}=C,K=e(C,["ariaValuetext","className","defaultValue","descriptiveText","emptyTrackColor","errorMessage","filledTrackColor","formatValue","hasError","id","isDisabled","isValueHidden","label","labelHidden","onChange","orientation","outerEndComponent","outerStartComponent","testId","thumbColor","trackSize","dir","value","size"]);const Q=S(z),W=S(),X=S(),Y=T?X:void 0,{styleProps:Z,rest:$}=F(K),_=void 0!==A,[ee,re]=d.useState(_?A:y),ie=_?[A]:void 0,ae=_?void 0:[y],le=d.useCallback((e=>{re(e[0]),n(w)&&w(e[0])}),[w]),te=d.useMemo((()=>{const e=n(E)?E(ee):ee;return"string"==typeof E?r(h,Object.assign({as:"span"},{children:e})):e}),[ee,E]),oe="vertical"===D,se=a(c.SliderFieldTrack,m(c.SliderFieldTrack,D),m(c.SliderFieldTrack,J)),de=a(c.SliderFieldRoot,m(c.SliderFieldRoot,D),m(c.SliderFieldRoot,J),v);return i(f,Object.assign({className:a(c.Field,c.SliderField),testId:B,"data-size":J},Z,{children:[i(g,Object.assign({className:c.SliderFieldLabel,id:W,testId:"slider-label",visuallyHidden:M},{children:[r(h,Object.assign({as:"span"},{children:I})),R?null:te]})),r(u,{id:X,labelHidden:M,descriptiveText:T}),r(b,Object.assign({className:c.SliderFieldGroup,id:Q,orientation:D,outerStartComponent:L,outerEndComponent:G},{children:i(l,Object.assign({className:de,"data-testid":"slider-root",disabled:H,defaultValue:ae,onValueChange:le,orientation:D,ref:j,value:ie},$,{children:[r(t,Object.assign({className:se,"data-testid":"slider-track",style:{backgroundColor:String(V),[""+(oe?"width":"height")]:U}},{children:r(o,{className:a(c.SliderFieldRange,m(c.SliderFieldRange,D)),"data-testid":"slider-range",style:{backgroundColor:String(N)}})})),r(s,{"aria-describedby":Y,"aria-labelledby":W,"aria-valuetext":k,className:a(c.SliderFieldThumb,m(c.SliderFieldThumb,J)),style:{backgroundColor:String(P)}})]}))})),r(p,{hasError:O,errorMessage:x})]}))}));y.displayName="SliderField";export{C as SLIDER_LABEL_TEST_ID,v as SLIDER_RANGE_TEST_ID,j as SLIDER_ROOT_TEST_ID,k as SLIDER_TRACK_TEST_ID,y as SliderField};
