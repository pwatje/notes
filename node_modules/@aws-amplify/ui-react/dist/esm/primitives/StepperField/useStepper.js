import*as e from"react";import{isFunction as a}from"../shared/utils.js";const t=(e,a,t,l)=>{const s=(l-e)%t;return l=l-s+Math.round(s/t)*t,(l=Math.max(e,l))>a&&(l=a-(a-e)%t),l},l=({defaultValue:l=0,value:s,step:n=1,max:u=Number.MAX_SAFE_INTEGER,min:r=Number.MIN_SAFE_INTEGER,isDisabled:o,isReadOnly:c,onDecrease:h,onIncrease:d,onStepChange:i})=>{const b=void 0!==s;u=Math.max(r,u);const[m,p]=e.useState((()=>t(r,u,n,l)));b&&(s=t(r,u,n,s));const C=b?s:m,I=o||c||C+n>u,N=o||c||C-n<r,[D,E]=e.useState(C),g=e.useCallback((e=>{E(e.target.value)}),[]),k=e.useCallback((e=>{let l=parseFloat(e.target.value);isNaN(l)||(l=t(r,u,n,l),b||p(l),a(i)&&i(l),E(l))}),[r,u,n,b,i]),v=e.useCallback((()=>{b||p(C+n),a(i)&&i(C+n),a(d)&&d(),E(C+n)}),[n,C,b,d,i]),M=e.useCallback((()=>{b||p(C-n),a(i)&&i(C-n),a(h)&&h(),E(C-n)}),[n,C,b,h,i]),S=e.useCallback((e=>{e.currentTarget.blur()}),[]);return{step:n,value:C,inputValue:D,handleDecrease:M,handleIncrease:v,handleOnBlur:k,handleOnChange:g,handleOnWheel:S,setInputValue:E,shouldDisableDecreaseButton:N,shouldDisableIncreaseButton:I}};export{l as useStepper};
