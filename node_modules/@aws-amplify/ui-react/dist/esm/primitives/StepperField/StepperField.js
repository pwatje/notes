import{__rest as e}from"tslib";import{jsxs as i,jsx as r}from"react/jsx-runtime";import*as s from"react";import t from"classnames";import{useStepper as a}from"./useStepper.js";import"../Field/FieldClearButton.js";import{FieldDescription as o}from"../Field/FieldDescription.js";import{FieldErrorMessage as l}from"../Field/FieldErrorMessage.js";import{FieldGroup as n}from"../FieldGroup/FieldGroup.js";import"../FieldGroupIcon/FieldGroupIcon.js";import{FieldGroupIconButton as d}from"../FieldGroupIcon/FieldGroupIconButton.js";import{Flex as p}from"../Flex/Flex.js";import{IconAdd as c}from"../Icon/icons/IconAdd.js";import{ComponentClassNames as u,ComponentText as m}from"../shared/constants.js";import"../View/View.js";import{IconRemove as b}from"../Icon/icons/IconRemove.js";import{Input as F}from"../Input/Input.js";import{Label as h}from"../Label/Label.js";import{classNameModifier as f,classNameModifierByFlag as j}from"../shared/utils.js";import{splitPrimitiveProps as I}from"../shared/styleUtils.js";import{useStableId as B}from"../utils/useStableId.js";const S="decrease-icon",v="increase-icon",g=s.forwardRef(((S,v)=>{const{className:g,descriptiveText:D,defaultValue:O,errorMessage:y,hasError:L=!1,id:C,isDisabled:R,isReadOnly:x,isRequired:E,increaseButtonLabel:N=m.StepperField.increaseButtonLabel,decreaseButtonLabel:z=m.StepperField.decreaseButtonLabel,label:G,labelHidden:V=!1,onStepChange:H,size:M,variation:$,testId:q,inputStyles:w,value:T}=S,k=e(S,["className","descriptiveText","defaultValue","errorMessage","hasError","id","isDisabled","isReadOnly","isRequired","increaseButtonLabel","decreaseButtonLabel","label","labelHidden","onStepChange","size","variation","testId","inputStyles","value"]),W=B(C),A=B(),P=D?A:void 0,{styleProps:U,rest:J}=I(k),{step:K,value:Q,inputValue:X,handleDecrease:Y,handleIncrease:Z,handleOnBlur:_,handleOnChange:ee,handleOnWheel:ie,setInputValue:re,shouldDisableDecreaseButton:se,shouldDisableIncreaseButton:te}=a(S);return s.useEffect((()=>{void 0!==T&&re(T)}),[T,re]),i(p,Object.assign({className:t(u.Field,f(u.Field,M),u.StepperField,g),"data-size":M,"data-variation":$,testId:q},U,{children:[r(h,Object.assign({htmlFor:W,visuallyHidden:V},{children:G})),r(o,{id:A,labelHidden:V,descriptiveText:D}),r(n,Object.assign({outerStartComponent:r(d,Object.assign({"aria-controls":W,ariaLabel:`${z} ${Q-K}`,className:t(u.StepperFieldButtonDecrease,f(u.StepperFieldButtonDecrease,$),j(u.StepperFieldButtonDecrease,"disabled",se)),"data-invalid":L,isDisabled:se,onClick:Y,size:M},{children:r(b,{"data-testid":"decrease-icon"})})),outerEndComponent:r(d,Object.assign({"aria-controls":W,ariaLabel:`${N} ${Q+K}`,className:t(u.StepperFieldButtonIncrease,f(u.StepperFieldButtonIncrease,$),j(u.StepperFieldButtonIncrease,"disabled",te)),"data-invalid":L,isDisabled:te,onClick:Z,size:M},{children:r(c,{"data-testid":"increase-icon"})}))},{children:r(F,Object.assign({"aria-describedby":P,className:u.StepperFieldInput,hasError:L,id:W,isDisabled:R,isReadOnly:x,isRequired:E,onBlur:_,onChange:ee,onWheel:ie,ref:v,size:M,variation:$,type:"number",value:X},w,J))})),r(l,{hasError:L,errorMessage:y})]}))}));g.displayName="StepperField";export{S as DECREASE_ICON,v as INCREASE_ICON,g as StepperField};
