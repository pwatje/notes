import{__rest as e}from"tslib";import{jsx as o}from"react/jsx-runtime";import a from"classnames";import*as r from"react";import{FieldClearButton as i}from"../Field/FieldClearButton.js";import"../Field/FieldDescription.js";import"../Field/FieldErrorMessage.js";import{FieldGroupIcon as n}from"../FieldGroupIcon/FieldGroupIcon.js";import"../FieldGroupIcon/FieldGroupIconButton.js";import{ComponentClassNames as t}from"../shared/constants.js";import"../View/View.js";import{IconSearch as l}from"../Icon/icons/IconSearch.js";import{SearchFieldButton as s}from"./SearchFieldButton.js";import{TextField as m}from"../TextField/TextField.js";import{useSearchField as d}from"./useSearchField.js";import{strHasLength as c}from"../shared/utils.js";const u=r.forwardRef(((r,u)=>{var{autoComplete:p="off",className:f,isDisabled:h,clearButtonLabel:C,labelHidden:b=!0,name:F="q",hasSearchButton:j=!0,hasSearchIcon:S=!1,onChange:B,onClear:v,onSubmit:I,searchButtonRef:g,size:D,defaultValue:V,value:x}=r,w=e(r,["autoComplete","className","isDisabled","clearButtonLabel","labelHidden","name","hasSearchButton","hasSearchIcon","onChange","onClear","onSubmit","searchButtonRef","size","defaultValue","value"]);const{composedValue:z,onClearHandler:R,onKeyDown:k,onClick:G,handleOnChange:H,composedRefs:N}=d({defaultValue:V,value:x,onChange:B,onClear:v,onSubmit:I,externalRef:u}),y=j?o(s,{isDisabled:h,onClick:G,ref:g,size:D}):void 0,E=S?o(n,{children:o(l,{})}):void 0;return o(m,Object.assign({autoComplete:p,className:a(t.SearchField,f),labelHidden:b,innerStartComponent:E,innerEndComponent:o(i,{ariaLabel:C,excludeFromTabOrder:!0,isVisible:c(z),onClick:R,size:D,variation:"link"}),isDisabled:h,name:F,onChange:H,onKeyDown:k,outerEndComponent:y,ref:N,size:D,value:z},w))}));u.displayName="SearchField";export{u as SearchField};
