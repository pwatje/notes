import{jsx as e,Fragment as i,jsxs as t}from"react/jsx-runtime";import{authenticatorTextUtil as r,defaultFormFieldOptions as o,translate as n,censorPhoneNumber as s,censorAllButFirstAndLast as a}from"@aws-amplify/ui";import{Flex as m}from"../../../primitives/Flex/Flex.js";import{Heading as d}from"../../../primitives/Heading/Heading.js";import{Radio as l}from"../../../primitives/Radio/Radio.js";import{RadioGroupField as c}from"../../../primitives/RadioGroupField/RadioGroupField.js";import{useAuthenticator as u}from"@aws-amplify/ui-react-core";import{useCustomComponents as f}from"../hooks/useCustomComponents/index.js";import{useFormHandlers as p}from"../hooks/useFormHandlers/useFormHandlers.js";import{RemoteErrorMessage as h}from"../shared/RemoteErrorMessage.js";import{TwoButtonSubmitFooter as g}from"../shared/TwoButtonSubmitFooter.js";import{RouteContainer as b}from"../RouteContainer/RouteContainer.js";const{getSkipText:j,getVerifyText:v,getVerifyContactText:x,getAccountRecoveryInfoText:y}=r,F=(e,i)=>{const t=n(e);let r=i;if("Phone Number"===e)r=s(i);else if("Email"===e){const e=i.split("@");r=`${a(e[0])}@${e[1]}`}return`${t}: ${r}`},C=({className:r,variation:n})=>{const{components:{VerifyUser:{Header:s=C.Header,Footer:a=C.Footer}}}=f(),{isPending:d,unverifiedContactMethods:y}=u((({isPending:e,unverifiedContactMethods:i})=>[e,i])),{handleChange:H,handleSubmit:R}=p(),T=e(i,d?{children:"Verifyingâ€¦"}:{children:v()}),O=e(c,Object.assign({label:x(),labelHidden:!0,name:"verify_context",isDisabled:d},{children:(S=y,Object.entries(S).map((([i,t])=>e(l,Object.assign({name:"unverifiedAttr",value:i},{children:F(o[i].label,t)}),i))))}));var S;return e(b,Object.assign({className:r,variation:n},{children:e("form",Object.assign({"data-amplify-form":"","data-amplify-authenticator-verifyuser":"",method:"post",onChange:H,onSubmit:R},{children:t(m,Object.assign({as:"fieldset",direction:"column",isDisabled:d},{children:[e(s,{}),O,e(h,{}),e(g,{cancelButtonText:j(),cancelButtonSendType:"SKIP",submitButtonText:T}),e(a,{})]}))}))}))};C.Header=function(){return e(d,Object.assign({level:3},{children:y()}))},C.Footer=function(){return null};export{C as VerifyUser};
