import{__rest as e,__assign as r}from"tslib";import{Storage as a}from"aws-amplify";import{translate as l}from"../../../../i18n/translations.js";function t(l){var t=l.file,i=l.fileName,o=l.level,n=void 0===o?"private":o,s=l.progressCallback,p=l.errorCallback,c=l.completeCallback,u=l.isResumable,m=void 0!==u&&u,b=e(l,["file","fileName","level","progressCallback","errorCallback","completeCallback","isResumable"]);return!0===m?a.put(i,t,r({level:n,resumable:m,progressCallback:s,errorCallback:p,completeCallback:c},b)):a.put(i,t,r({level:n,resumable:!1,progressCallback:s},b)).then(c,p)}function i(e,r,a){void 0===r&&(r=!1),void 0===a&&(a=1);var l=r?1e3:1024;if(Math.abs(e)<l)return e+" B";var t=r?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=-1,o=Math.pow(10,a);do{e/=l,++i}while(Math.round(Math.abs(e)*o)/o>=l&&i<t.length-1);return e.toFixed(a)+" "+t[i]}var o=function(e,r){return e&&r.size>e?l("Above max ")+i(e,!0):null},n=function(e,r){return e.filter((function(e){var a=e.name||"",l=(e.type||"").toLowerCase(),t=l.replace(/\/.*$/,"");return r.some((function(e){var r=e.trim().toLowerCase();return"."===r.charAt(0)?a.toLowerCase().endsWith(r):r.endsWith("/*")?t===r.replace(/\/.*$/,""):l===r}))}))},s=function(e,r){var a=e.split(".").pop();return r.split(".").pop()===a};export{o as checkMaxSize,i as humanFileSize,s as isValidExtension,n as returnAcceptedFiles,t as uploadFile};
